<!DOCTYPE html>
<html>
<head>
<meta charset="windows-1255">
<title>Insert title here</title>
</head>
<body>
 
            
   <messages success= "ctrl.successMessage" err="ctrl.errorMessage" info="ctrl.infoMessage" remove="ctrl.deleteCustomerErrorMessage"
    confirm="ctrl.confirm()" alert-message="ctrl.alertMessage()"></messages>
            
     
       <div class="col-md-6">
       
       
          <h3 class="textColor">All The Customers</h3>
       
        
        <input class="form-control" type="text" ng-model="test.custName" placeholder="Filter By Name">
       <input class="form-control" type="text" ng-model="test.id" placeholder="Filter By Id">   
         
  
       
             <div class="container " >

  <div class="panel-group col-md-6" id="accordion"  >
    <div class="panel panel-primary" ng-repeat="customer in ctrl.custData | filter:test:match "  >
      <div class="panel-heading" >
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#{{customer.id}}"
             class="btn-group btn-group-justified  "
              ng-click="ctrl.getCustData(customer.id)" >
                
     
    <label> {{customer.custName}}</label>
   	
    <span class="caret"></span></a>
        </h4>
      </div>
           
      <div id={{customer.id}} class="panel-collapse collapse">
        <div class="panel-body">
     <form id="formLogin" class="form container-fluid" ng-submit="ctrl.updateCustomer()" >
         
            <div>
             <h3> Customer Details:</h3>
            </div>
            
              <div>
			                  <span>ID : </span>
			                <span>{{ctrl.customersData.id}}</span> 
			             
			              </div>
			                 <div>
			                  <span>Customer Name : </span>
			                <span >{{ctrl.customersData.custName}}</span>
			           
			                </div>

			                <div>
			                  <span >Customer Password : </span>
			                <span ng-hide="ctrl.updateMode">{{ctrl.customersData.password}}</span>
			                <input type="text" class="form-control" pattern="[^'\x22]{4,}" required title="Must contain at least 4 or more characters"
			                 placeholder="Enter Password" ng-show="ctrl.updateMode" ng-model="ctrl.customersData.password">
			                </div>
			            <div>
			          <button type="button" class="btn btn-primary" ng-hide="ctrl.updateMode" ng-click="ctrl.toggleUpdateMode()">Update</button>
			          <button type="submit" class="btn btn-success" ng-show="ctrl.updateMode" >Save</button>
			          <button type="button" class="btn btn-primary" ng-show="ctrl.updateMode" ng-click="ctrl.toggleUpdateMode()">Back</button> 
			          <button type="button" class="btn btn-danger" ng-hide="ctrl.updateMode" ng-click="ctrl.deleteCustomer()">Delete</button> 
			          <br>       
			            
			          </div>
			            </form>  
			         </div> 
			         <button class="btn-group btn-group-justified btn btn-info"
                             data-toggle="collapse" data-target="#{{customer.custName}}{{customer.custName}}">Coupons</button>
			       
			         <div id={{customer.custName}}{{customer.custName}} class="panel-collapse collapse ">    
			         
			         <div ng-if="!customer.coupon[0]"><label>No Coupons yet...</label></div>                    
                              
			         <div >      
<div class="container " >

  <div class="panel-group col-md-6" id="{{customer.custName}}"  >
    <div class="panel panel-default"  ng-repeat="coupon in ctrl.coupons " >
      <div class="panel-heading" >
        <h4 class="panel-title">
          <a  data-toggle="collapse" data-parent="#{{customer.custName}}" href="#{{customer.id}}{{coupon.id}}"
              
                  ng-click="ctrl.getCouponData(coupon.id)" >
                
     
     <label>Coupon : {{coupon.title}}</label><br>
   	 <img class="imgSize" data-ng-src={{coupon.image}}>
    <span class="caret"></span></a>
        </h4>
      </div>
      <div id="{{customer.id}}{{coupon.id}}" class="panel-collapse collapse ">
        <div class="panel-body">
        
                       <div>
       
           <label>Coupon details :</label>
       <br>
			                <label>ID : </label>
			                <strong >{{ctrl.couponData.id}}</strong>
			           <br>

			          <label>Title : </label>
			            <strong>{{ctrl.couponData.title}}</strong>
			                 <br>

			          <label>Start date : </label>
			             <strong>{{ctrl.couponData.startDate}}</strong>
			            <br>
			              <label>Expired Date : </label>
			             <strong>{{ctrl.couponData.endDate}}</strong>
			            
			           <br>
			          <label>Amount : </label>
			             <strong>{{ctrl.couponData.amount}}</strong>
			            <br>
			          <label>Type : </label>
			             <strong>{{ctrl.couponData.type}}</strong>
			           <br>
			          <label>Message :</label>
			             <strong>{{ctrl.couponData.massage}}</strong>
			           <br>
			              <label>Price : </label>
			             <strong>{{ctrl.couponData.price}}</strong>
			        
			             
			              
         					  </div> 
			         </div>
			         </div>
                     </div>
                     </div>
                    </div>
    
         
           </div>
			          
			         
		</div>
                   
       		  
          </div>
      </div>
   </div>
   
    

   </div>
</div>

</body>
</html>